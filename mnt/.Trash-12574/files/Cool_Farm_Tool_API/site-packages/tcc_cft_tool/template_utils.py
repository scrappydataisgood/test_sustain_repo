import io
import json
import pandas as pd
import pkgutil

from tcc_cft_tool.cft_config import *

class CftTemplate(object):
    @property
    def api_schema(self, version):
        return json.loads(pkgutil.get_data(__name__, CFT_VERSION_CONFIG[version]['schema_path']).decode())

    @property
    def api_template(self):
        return json.loads(pkgutil.get_data(__name__, CFT_API_TEMPLATE_PATH).decode())

    @property
    def input_df_template(self):
        return pd.read_csv(io.BytesIO(pkgutil.get_data(__name__, CFT_INPUT_DF_TEMPLATE_PATH)))

    @property
    def input_json_template(self):
        return [{'AssessmentID':'879556000000000','request':self.api_template}]
